{"ast":null,"code":"var _jsxFileName = \"/home/zno/projects/see-signage-assignment/content-player/src/ContentPlayer.tsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { useCallback, useEffect, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst testData = ['https://imgs.xkcd.com/comics/easy_or_hard.png', 'https://imgs.xkcd.com/comics/archimedes_principle.png', 'https://imgs.xkcd.com/comics/movie_ages.png'];\nconst INTERVAL = 1000; // dev, prd 7000\n\nexport class ContentPlayer extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      playlist: [...testData],\n      index: 0,\n      intervalId: null\n    };\n  }\n\n  componentDidMount() {\n    const id = setInterval(() => {}, INTERVAL);\n    this.setState({ ...this.state,\n      intervalId: id\n    });\n  }\n\n  componentWillUnmount() {\n    if (this.state.intervalId) {\n      clearInterval(this.state.intervalId);\n    }\n  }\n\n  render() {\n    const source = this.state.playlist[this.state.index];\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"content-player-container\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        className: \"content-image\",\n        src: source\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 16\n    }, this);\n  }\n\n}\n\nconst _ContentPlayer = () => {\n  _s();\n\n  const [playlist, setPlaylist] = useState(testData);\n  const [index, setIndex] = useState(0); // todo useCallback\n\n  const next = useCallback(() => {\n    console.log(index, performance.now());\n    setIndex((index + 1) % 3);\n  }, []); // startLoop\n\n  useEffect(() => {}, []);\n};\n\n_s(_ContentPlayer, \"E5bFhhfMvCc1TTV0+fmpoEqSryc=\");","map":{"version":3,"names":["React","useCallback","useEffect","useState","testData","INTERVAL","ContentPlayer","Component","constructor","props","state","playlist","index","intervalId","componentDidMount","id","setInterval","setState","componentWillUnmount","clearInterval","render","source","_ContentPlayer","setPlaylist","setIndex","next","console","log","performance","now"],"sources":["/home/zno/projects/see-signage-assignment/content-player/src/ContentPlayer.tsx"],"sourcesContent":["import React, { ReactPropTypes } from \"react\";\nimport { useCallback, useEffect, useState } from \"react\"\n\nconst testData = [\n    'https://imgs.xkcd.com/comics/easy_or_hard.png',\n    'https://imgs.xkcd.com/comics/archimedes_principle.png',\n    'https://imgs.xkcd.com/comics/movie_ages.png',\n]\n\nconst INTERVAL = 1000; // dev, prd 7000\n\ninterface ContentPlayerState {\n    playlist: string[];\n    index: number;\n    intervalId: NodeJS.Timer | null;\n}\n\nexport class ContentPlayer extends React.Component<{}, ContentPlayerState> {\n    constructor(props: {}) {\n        super(props);\n        this.state = {\n            playlist: [...testData],\n            index: 0,\n            intervalId: null,\n        }\n\n    }\n    \n    componentDidMount(): void {\n        const id = setInterval(() => {}, INTERVAL);\n        this.setState({\n            ...this.state,\n            intervalId: id,\n        });\n        \n    }\n    \n    componentWillUnmount(): void {\n        if (this.state.intervalId) {\n            clearInterval(this.state.intervalId);\n        }\n    }\n\n    render () {\n        const source = this.state.playlist[this.state.index];\n        return <div className='content-player-container'>\n            <img className='content-image' src={source}></img>\n        </div>\n    }\n}\n\n\nconst _ContentPlayer = () => {\n    const [playlist, setPlaylist] = useState<string[]>(testData);\n    const [index, setIndex] = useState<number>(0);\n\n    // todo useCallback\n    const next = useCallback(() => {\n        console.log(index, performance.now());\n        setIndex((index + 1) % 3);\n    }, []);\n\n    // startLoop\n    useEffect(() => {\n\n    }, []);\n\n\n}"],"mappings":";;;AAAA,OAAOA,KAAP,MAAsC,OAAtC;AACA,SAASC,WAAT,EAAsBC,SAAtB,EAAiCC,QAAjC,QAAiD,OAAjD;;AAEA,MAAMC,QAAQ,GAAG,CACb,+CADa,EAEb,uDAFa,EAGb,6CAHa,CAAjB;AAMA,MAAMC,QAAQ,GAAG,IAAjB,C,CAAuB;;AAQvB,OAAO,MAAMC,aAAN,SAA4BN,KAAK,CAACO,SAAlC,CAAoE;EACvEC,WAAW,CAACC,KAAD,EAAY;IACnB,MAAMA,KAAN;IACA,KAAKC,KAAL,GAAa;MACTC,QAAQ,EAAE,CAAC,GAAGP,QAAJ,CADD;MAETQ,KAAK,EAAE,CAFE;MAGTC,UAAU,EAAE;IAHH,CAAb;EAMH;;EAEDC,iBAAiB,GAAS;IACtB,MAAMC,EAAE,GAAGC,WAAW,CAAC,MAAM,CAAE,CAAT,EAAWX,QAAX,CAAtB;IACA,KAAKY,QAAL,CAAc,EACV,GAAG,KAAKP,KADE;MAEVG,UAAU,EAAEE;IAFF,CAAd;EAKH;;EAEDG,oBAAoB,GAAS;IACzB,IAAI,KAAKR,KAAL,CAAWG,UAAf,EAA2B;MACvBM,aAAa,CAAC,KAAKT,KAAL,CAAWG,UAAZ,CAAb;IACH;EACJ;;EAEDO,MAAM,GAAI;IACN,MAAMC,MAAM,GAAG,KAAKX,KAAL,CAAWC,QAAX,CAAoB,KAAKD,KAAL,CAAWE,KAA/B,CAAf;IACA,oBAAO;MAAK,SAAS,EAAC,0BAAf;MAAA,uBACH;QAAK,SAAS,EAAC,eAAf;QAA+B,GAAG,EAAES;MAApC;QAAA;QAAA;QAAA;MAAA;IADG;MAAA;MAAA;MAAA;IAAA,QAAP;EAGH;;AA/BsE;;AAmC3E,MAAMC,cAAc,GAAG,MAAM;EAAA;;EACzB,MAAM,CAACX,QAAD,EAAWY,WAAX,IAA0BpB,QAAQ,CAAWC,QAAX,CAAxC;EACA,MAAM,CAACQ,KAAD,EAAQY,QAAR,IAAoBrB,QAAQ,CAAS,CAAT,CAAlC,CAFyB,CAIzB;;EACA,MAAMsB,IAAI,GAAGxB,WAAW,CAAC,MAAM;IAC3ByB,OAAO,CAACC,GAAR,CAAYf,KAAZ,EAAmBgB,WAAW,CAACC,GAAZ,EAAnB;IACAL,QAAQ,CAAC,CAACZ,KAAK,GAAG,CAAT,IAAc,CAAf,CAAR;EACH,CAHuB,EAGrB,EAHqB,CAAxB,CALyB,CAUzB;;EACAV,SAAS,CAAC,MAAM,CAEf,CAFQ,EAEN,EAFM,CAAT;AAKH,CAhBD;;GAAMoB,c"},"metadata":{},"sourceType":"module"}